(this["webpackJsonpyt-downloader"]=this["webpackJsonpyt-downloader"]||[]).push([[7],{34:function(t,e,n){"use strict";n.d(e,"e",(function(){return m})),n.d(e,"c",(function(){return p})),n.d(e,"a",(function(){return h})),n.d(e,"b",(function(){return g})),n.d(e,"d",(function(){return b})),n.d(e,"f",(function(){return w}));var a=n(35),o=n.n(a),c=n(36),r=n(37),i=n.n(r),u=n(38),l=n(39),s=n.n(l),d="/api",f=d+"/ytdl";function m(t){return v.apply(this,arguments)}function v(){return(v=Object(c.a)(o.a.mark((function t(e){var n;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch("".concat(f,"/simpleinfo?videolink=").concat(e));case 2:if(!((n=t.sent).status>=400)){t.next=5;break}throw new Error(n);case 5:return t.next=7,n.json();case 7:return t.abrupt("return",t.sent);case 8:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function p(t,e,n,a){var o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:function(t){return console.log(t)},c=arguments.length>5&&void 0!==arguments[5]?arguments[5]:function(t){return console.log(t)};s()({url:"".concat(f,"/download?videolink=").concat(t).concat(e?"&format=".concat(e):""),method:"GET",responseType:"arraybuffer",onDownloadProgress:a?function(t){console.log(t.loaded),o(t.loaded)}:null}).then((function(t){var e=a?a.format.container:"mp4";Object(u.saveAs)(new Blob([t.data]),n?"".concat(n,".").concat(e):"video".concat(Date.now(),".mp4")),c("finished")})).catch((function(t){console.log(t),c("failed! :(")}))}function h(t,e,n,a,o){var c=arguments.length>5&&void 0!==arguments[5]?arguments[5]:function(t){return console.log(t)},r=arguments.length>6&&void 0!==arguments[6]?arguments[6]:function(t){return console.log(t)};s()({url:"".concat(f,"/downloadmp3?videolink=").concat(t).concat(e?"&format=".concat(e):""),method:"GET",responseType:"arraybuffer",onDownloadProgress:a?function(t){c(t.loaded)}:null}).then((function(t){var e=new i.a(t.data);if(o){var a=o.title,c=o.artist;a&&e.setFrame("TIT2",a),c&&e.setFrame("TPE1",[c])}e.addTag();var l=e.getBlob();Object(u.saveAs)(l,n?"".concat(n,".mp3"):"music".concat(Date.now(),".mp3")),r("finished")})).catch((function(t){console.log(t),r("failed! :(")}))}function g(t,e,n,a,o){var c=arguments.length>5&&void 0!==arguments[5]?arguments[5]:function(t){return console.log(t)},r=arguments.length>6&&void 0!==arguments[6]?arguments[6]:function(t){return console.log(t)};s()({url:"".concat(f,"/downloadmp3?videolink=").concat(t).concat(e?"&format=".concat(e):""),method:"GET",responseType:"arraybuffer",onDownloadProgress:a?function(t){c(t.loaded)}:null}).then((function(t){var e=new i.a(t.data);if(o){var a=o.title,c=o.artist;a&&e.setFrame("TIT2",a),c&&e.setFrame("TPE1",[c])}e.addTag();var l=e.getBlob();Object(u.saveAs)(l,n?"".concat(n,".mp3"):"music".concat(Date.now(),".mp3")),r("finished")})).catch((function(t){console.log(t),r("failed! :(")}))}function b(t,e){return s()({url:"".concat(f,"/getsize?videolink=").concat(t).concat(e?"&format=".concat(e):""),method:"GET"})}function w(t,e){return fetch("".concat(d,"/search?q=").concat(t).concat(e?"&page="+e:"")).then((function(t){if(!t.ok)throw Error(t.statusText);return t.json()}))}},40:function(t,e,n){"use strict";var a=n(0),o=n.n(a);e.a=function(t){var e=t.onClick;t.className;return o.a.createElement("div",{onClick:e,id:"closeIcon",className:"centerAll pointer"},o.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"18",height:"18",viewBox:"0 0 24 24"},o.a.createElement("path",{d:"M24 20.188l-8.315-8.209 8.2-8.282-3.697-3.697-8.212 8.318-8.31-8.203-3.666 3.666 8.321 8.24-8.206 8.313 3.666 3.666 8.237-8.318 8.285 8.203z"})))}},41:function(t,e,n){"use strict";var a=n(0),o=n.n(a);e.a=function(t){return Object(a.useEffect)((function(){return document.body.style.overflow="hidden",function(){document.body.style.overflow="unset"}}),[]),o.a.createElement("div",{className:"modal"},t.children)}},42:function(t,e,n){"use strict";var a=n(0),o=n.n(a);e.a=function(t){var e=t.size,n=t.progress;return o.a.createElement("div",{className:"progressContainer centerText fancyShadow"},o.a.createElement("p",null,"SIZE: ",(e/1e6).toFixed(2)," MB"),o.a.createElement("progress",{value:n,max:e}))}},73:function(t,e,n){"use strict";n.r(e);var a=n(8),o=n(0),c=n.n(o),r=n(34),i=n(40),u=n(41),l=n(42);e.default=function(t){var e=t.match,n=t.video,s=t.history,d=Object(o.useState)("download"),f=Object(a.a)(d,2),m=f[0],v=f[1],p=Object(o.useState)(""),h=Object(a.a)(p,2),g=h[0],b=h[1],w=Object(o.useState)(0),E=Object(a.a)(w,2),y=E[0],O=E[1],j=Object(o.useState)(""),T=Object(a.a)(j,2),k=(T[0],T[1]),x=Object(o.useState)(0),N=Object(a.a)(x,2),S=N[0],D=N[1],A=Object(o.useState)(""),C=Object(a.a)(A,2),F=C[0],I=C[1],q=Object(o.useState)(""),B=Object(a.a)(q,2),G=B[0],z=B[1],M=Object(o.useState)(!1),P=Object(a.a)(M,2),J=P[0],L=(P[1],function(){O(null),D(0),k(""),v("download")});Object(o.useEffect)((function(){L(),n&&b(n.title),Object(r.d)(e.params.query,e.params.itag).then((function(t){O(t.data)})).catch((function(t){console.log(t),k("failed to get videoinfo... you can try download anyway")}))}),[n,e.params.query,e.params.itag]);var R=function(){s.push("/video/".concat(e.params.query))};return n?c.a.createElement(u.a,null,c.a.createElement("form",{id:"customNameForm",className:"modalInner",onSubmit:function(t){if(t.preventDefault(),"download"===m){if(!J){v("loading");var a=n&&n.thumbnail;return Object(r.a)(e.params.query,e.params.itag,g,y,{title:G,artist:F,cover:a},(function(t){return D(t)}),(function(t){return v(t)}))}return Object(r.b)(e.params.query,e.params.itag,g,y,{title:G,artist:F},(function(t){return D(t)}),(function(t){return v(t)}))}return"failed :("===m?L():"finished"===m?R():void 0}},c.a.createElement(i.a,{onClick:R}),c.a.createElement("h1",{className:"centerText"},"CONFIRM DOWNLOAD"),y&&c.a.createElement(l.a,{size:y.size,progress:S}),c.a.createElement("input",{value:g,onChange:function(t){return b(t.target.value)},type:"text"}),c.a.createElement("button",{onClick:function(t){if(t.preventDefault(),n.title){var e=n.title.split("-");2===e.length&&(I(e[0].trim()),z(e[1].trim()))}},id:"autoMp3Button",className:"marginAuto"},"AUTO GENERATE"),c.a.createElement("input",{value:F,placeholder:"add an artist if you want",onChange:function(t){return I(t.target.value)},type:"text"}),c.a.createElement("input",{value:G,placeholder:"add song name",onChange:function(t){return z(t.target.value)},type:"text"}),c.a.createElement("input",{className:"submit hoverShadow",value:m,type:"submit",disabled:!1}))):c.a.createElement("div",{id:"confirmModal",className:"centerAll"},c.a.createElement("h1",null,"LOADING"))}}}]);
//# sourceMappingURL=7.2edadfe2.chunk.js.map
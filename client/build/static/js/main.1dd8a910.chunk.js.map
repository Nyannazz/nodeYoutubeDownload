{"version":3,"sources":["img/coon.png","components/Icon.jsx","components/Navigation.jsx","components/Searchbar.jsx","components/VideoCard.jsx","api/api.js","components/Loading.jsx","components/FormatItem.jsx","components/FormatList.jsx","components/FormatSelect.jsx","components/Error.jsx","components/VideoView.jsx","components/Banner.jsx","components/Downloader.jsx","components/VideoListCard.jsx","components/VideoList.jsx","components/usePrevious.js","components/VideoSearch.jsx","components/YoutubeSearch.jsx","components/CloseIcon.jsx","components/Progress.jsx","components/ConfirmDownload.jsx","App.jsx","serviceWorker.js","index.js"],"names":["module","exports","Icon","id","className","to","src","icon","alt","Searchbar","onSubmit","placeholder","match","useState","inputVal","setInputVal","useEffect","params","query","decodeURIComponent","event","preventDefault","value","onChange","target","type","required","VideoCard","thumbnail","title","length","toFixed","BASEURL","downloaderUrl","videoUrl","a","fetch","response","status","Error","json","downloadVideo","itag","name","metadata","progressCallback","progress","console","log","doneCallBack","axios","url","method","responseType","onDownloadProgress","progressEvent","loaded","then","container","format","saveAs","Blob","data","Date","now","catch","error","downloadMp3","mp3Data","writer","ID3Writer","artist","cover","setFrame","addTag","blob","getBlob","getFileSize","searchVideo","page","ok","statusText","Loading","FormatItem","audioBitrate","qualityLabel","onDownload","href","onClick","FormatList","formats","convertMp3","map","item","index","key","FormatSelect","formatList","onDownloadMp3","formatTab","setFormatTab","audioFormats","filter","videoFormats","videoOnlyFormats","message","children","VideoView","history","video","setVideo","setError","getVideoData","push","Banner","text","timeout","searchState","setSearch","clearTimeout","onSearchSubmit","ytID","urlComponents","getYoutubeID","setTimeout","path","render","props","VideoListCard","videoID","link","VideoList","videos","ref","useRef","current","removeDouble","b","i","j","splice","loadedPages","Set","PageNav","Number","VideoSearch","setData","prevPage","usePrevious","prevQuery","has","add","clear","YoutubeSearch","encodeURIComponent","component","CloseIcon","xmlns","width","height","viewBox","d","Progress","size","max","ConfirmDownload","downloadState","setDownload","setName","setMeta","setProgress","download","state","e","ConfirmDownloadMp3","setArtist","song","setSong","parts","split","trim","App","Navigation","Downloader","Boolean","window","location","hostname","ReactDOM","document","getElementById","navigator","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.1dd8a910.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/coon.c7bb7959.png\";","import React from 'react'\r\nimport { Link } from 'react-router-dom'\r\nimport icon from '../img/coon.png'\r\n\r\nexport const Icon = () => {\r\n    return (\r\n        <Link id=\"mainIcon\" className=\"centerAll\" to=\"/\">\r\n            YT\r\n            <img src={icon} alt=\"coon icon\" />\r\n            COON\r\n        </Link>\r\n    )\r\n}\r\n","import React from 'react'\r\nimport {Link} from 'react-router-dom'\r\nimport { Icon } from './Icon'\r\n\r\nexport default () => {\r\n    return (\r\n        <nav id=\"nav\">\r\n            <div className=\"inner\">\r\n                <Icon/>\r\n                <section>\r\n                    <Link to=\"/search\" className=\"pointer undecoratedLink\">SEARCH</Link>\r\n                </section>\r\n            </div>\r\n        </nav>\r\n    )\r\n}\r\n","import React, {useState, useEffect} from 'react'\r\n\r\nconst Searchbar = ({onSubmit, placeholder=\"SEARCH FOR YOUTUBE URL\", match}) => {\r\n    const [inputVal, setInputVal]=useState(\"\")\r\n    useEffect(() => {\r\n        if(match.params.query) setInputVal(decodeURIComponent(match.params.query));\r\n        else setInputVal(\"\");\r\n    }, [match.params.query])\r\n    return (\r\n        <form \r\n            onSubmit={(event) => {\r\n                    event.preventDefault(); \r\n                    onSubmit(inputVal);\r\n                }\r\n            } \r\n            id=\"searchbar\" \r\n            className=\"margin0Auto\"\r\n        >\r\n            <input value={inputVal} onChange={(event)=>setInputVal(event.target.value)} placeholder={placeholder} type=\"text\" id=\"searchText\" required />\r\n            <input type=\"submit\" value=\"SEARCH\" id=\"searchSubmit\" />\r\n        </form>\r\n    )\r\n}\r\n\r\nexport default Searchbar\r\n","import React from 'react'\r\n\r\nconst VideoCard = ({ thumbnail, title, length }) => {\r\n    return (\r\n        <div id=\"videoCard\">\r\n            <img src={thumbnail} alt=\"video thumbnail\" />\r\n            <h3>{title}</h3>\r\n            <p>duration: <strong>{length ? (length / 60).toFixed(2) : 0} minutes</strong></p>\r\n            <div></div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default VideoCard\r\n","import ID3Writer from 'browser-id3-writer'\r\nimport {\r\n  saveAs\r\n} from 'file-saver'\r\nimport axios from 'axios'\r\n//const BASEURL = \"http://localhost:5000/api\" /*  || \"http://82.165.121.77:5000\" */\r\nconst BASEURL=\"/api\"\r\nconst downloaderUrl = BASEURL + \"/ytdl\"\r\nconst searchUrl = BASEURL + \"/search\"\r\nconst downloadProxyUrl = BASEURL + \"/dlproxy\"\r\n\r\nexport async function getVideoData(videoUrl) {\r\n  const response = await fetch(`${downloaderUrl}/simpleinfo?videolink=${videoUrl}`);\r\n  if (response.status >= 400) throw new Error(response)\r\n  return await response.json();\r\n\r\n}\r\n\r\n\r\n\r\nexport function downloadVideo(videoUrl, itag, name, metadata, progressCallback = (progress) => console.log(progress), doneCallBack = (progress) => console.log(progress)) {\r\n  axios({\r\n    url: `${downloaderUrl}/download?videolink=${videoUrl}${itag?`&format=${itag}`:\"\"}`,\r\n    method: \"GET\",\r\n    responseType: \"arraybuffer\",\r\n    onDownloadProgress: metadata ? (progressEvent) => {\r\n      console.log(progressEvent.loaded)\r\n      progressCallback(progressEvent.loaded)\r\n    } : null\r\n  }).then((response) => {\r\n    const container = metadata ? metadata.format.container : \"mp4\"\r\n    saveAs(new Blob([response.data]), name ? `${name}.${container}` : `video${Date.now()}.mp4`);\r\n    doneCallBack(\"finished\");\r\n  }).catch(error => {\r\n    console.log(error)\r\n    doneCallBack(\"failed! :(\");\r\n\r\n  })\r\n\r\n\r\n\r\n}\r\n\r\n\r\nexport function downloadMp3(videoUrl, itag, name, metadata, mp3Data, progressCallback = (progress) => console.log(progress), doneCallBack = (progress) => console.log(progress)) {\r\n  axios({\r\n    url: `${downloaderUrl}/downloadmp3?videolink=${videoUrl}${itag?`&format=${itag}`:\"\"}`,\r\n    method: \"GET\",\r\n    responseType: \"arraybuffer\",\r\n    onDownloadProgress: metadata ? (progressEvent) => {\r\n      progressCallback(progressEvent.loaded)\r\n    } : null\r\n  }).then((response) => {\r\n\r\n\r\n    const writer = new ID3Writer(response.data);\r\n    if (mp3Data) {\r\n      const {\r\n        title,\r\n        artist,\r\n        cover\r\n      } = mp3Data;\r\n      if (title) writer.setFrame('TIT2', title)\r\n      if (artist) writer.setFrame('TPE1', [artist])\r\n      /* if (cover) {\r\n        console.log(cover)\r\n        getCorsImage(cover, (buffer)=>{\r\n          writer.setFrame('APIC', {\r\n            type: 3,\r\n            data: buffer,\r\n            description: 'cover'\r\n        })\r\n        })\r\n\r\n      } */\r\n    }\r\n    writer.addTag();\r\n\r\n    const blob = writer.getBlob();\r\n\r\n    saveAs(blob, name ? `${name}.mp3` : `music${Date.now()}.mp3`);\r\n    doneCallBack(\"finished\");\r\n  }).catch(error => {\r\n    console.log(error)\r\n    doneCallBack(\"failed! :(\");\r\n\r\n  })\r\n\r\n\r\n}\r\n\r\n\r\n\r\nfunction getCorsImage(url, cb) {\r\n  const link = `${downloadProxyUrl}?link=${url}`\r\n  fetch(link).then(response => {\r\n    if (!response.ok) {\r\n      throw new Error(response.statusText)\r\n    }\r\n\r\n    return response.arrayBuffer();\r\n  }).then(buffer => {\r\n    cb(buffer)\r\n  }).catch(e => console.log(e))\r\n}\r\n\r\n\r\nexport function getFileSize(videoUrl, itag) {\r\n  return axios({\r\n    url: `${downloaderUrl}/getsize?videolink=${videoUrl}${itag?`&format=${itag}`:\"\"}`,\r\n    method: \"GET\",\r\n  })\r\n}\r\n\r\nexport function searchVideo(query, page) {\r\n  return fetch(`${BASEURL}/search?q=${query}${page? \"&page=\"+page: \"\"}`)\r\n    .then(response => {\r\n      //console.log(response)\r\n      if (!response.ok) throw Error(response.statusText)\r\n      return response.json();\r\n    })\r\n}","import React from 'react'\r\n\r\nconst Loading = () => {\r\n    return (\r\n        <div className=\"loading centerText textUpper\">\r\n            LOADING...\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Loading\r\n","import React from 'react'\r\n\r\n\r\n\r\nconst FormatItem = ({container, type, audioBitrate, qualityLabel, url, itag, onDownload }) => {\r\n    return (\r\n        <tr id=\"formatItem\">\r\n            <td id=\"format\">{type}</td>\r\n            <td id=\"quality\">{qualityLabel? qualityLabel : audioBitrate+\" bitrate\"}</td>\r\n            <td className=\"centerText\">\r\n                <a href={url}>\r\n                    SOURCE\r\n                </a>\r\n            </td>\r\n            <td className=\"pointer\">\r\n                <div onClick={()=>onDownload(itag, container)} id=\"download\">\r\n                    DOWNLOAD\r\n                </div> \r\n            </td>\r\n        </tr>\r\n    )\r\n}\r\n\r\nexport default FormatItem\r\n","import React from 'react'\r\nimport FormatItem from './FormatItem'\r\n\r\n\r\nconst FormatList = ({formats=[], onDownload, convertMp3}) => {\r\n    return (\r\n        <tbody>\r\n            {formats.map((item, index) =>\r\n                <FormatItem onDownload={onDownload}  {...item} type={convertMp3? \"mp3\": item.type} key={`videoFormat_${index}`} />\r\n            )\r\n            }\r\n        </tbody>\r\n    )\r\n}\r\n\r\nexport default FormatList\r\n","import React, { useState, useEffect } from 'react'\r\nimport FormatList from './FormatList'\r\n\r\nconst FormatSelect = ({ formatList = [], onDownload, onDownloadMp3 }) => {\r\n    console.log(Date.now())\r\n    const [formatTab, setFormatTab] = useState(\"video\");\r\n    const audioFormats = formatList.filter((item) => item.type.match(/^audio/))\r\n    const videoFormats = formatList.filter((item) => item.type.match(/^video/) && item.audioBitrate)\r\n    const videoOnlyFormats = formatList.filter((item) => item.type.match(/^video/) && !item.audioBitrate)\r\n    //console.log(videoOnlyFormats)\r\n    return (\r\n        <div id=\"formatSelect\">\r\n            <div id=\"tabSwitch\">\r\n                <div onClick={()=>setFormatTab(\"video\")} className={formatTab===\"video\"?\"activeTab\":\"inactiveTab\"}>VIDEO</div>\r\n                <div onClick={()=>setFormatTab(\"audio\")} className={formatTab===\"audio\"?\"activeTab\":\"inactiveTab\"}>AUDIO</div>\r\n                <div onClick={()=>setFormatTab(\"mp3\")} className={formatTab===\"mp3\"?\"activeTab\":\"inactiveTab\"}>MP3</div>\r\n                <div onClick={()=>setFormatTab(\"videoOnly\")} className={formatTab===\"videoOnly\"?\"activeTab\":\"inactiveTab\"}>VIDEO ONLY</div>\r\n            </div>\r\n            <table>\r\n                <thead>\r\n                    <tr id=\"tableHeader\">\r\n                        <th>FORMAT</th>\r\n                        <th>QUALITY</th>\r\n                        <th>LINK</th>\r\n                        <th>DOWNLOAD</th>\r\n                    </tr>\r\n                </thead>\r\n\r\n                {formatTab === \"video\" && <FormatList onDownload={onDownload}  formats={videoFormats} />}\r\n                {formatTab === \"audio\" && <FormatList onDownload={onDownload}  formats={audioFormats} />}\r\n                {formatTab === \"mp3\" && <FormatList convertMp3={true} onDownload={onDownloadMp3}  formats={audioFormats} />}\r\n                {formatTab === \"videoOnly\" && <FormatList onDownload={onDownload} formats={videoOnlyFormats} />}\r\n\r\n\r\n            </table>\r\n        </div>\r\n\r\n    )\r\n}\r\n\r\nexport default FormatSelect\r\n","import React from 'react'\r\n\r\nconst Error = ({message, children}) => {\r\n    return (\r\n        <div className=\"errorMessage centerText textUpper\">\r\n            <p>{message}</p>\r\n            {children}\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Error\r\n","import React, {useEffect, useState} from 'react'\r\nimport {getVideoData} from '../api/api.js'\r\nimport Loading from './Loading'\r\nimport VideoCard from './VideoCard'\r\nimport FormatSelect from './FormatSelect.jsx'\r\nimport Error from './Error.jsx'\r\n\r\nconst VideoView = ({match, history, video, setVideo}) => {\r\n    console.log(history)\r\n    const [error, setError]=useState(null);\r\n    const query=match.params.query;\r\n    useEffect(() => {\r\n        setVideo(null);\r\n        setError(null);\r\n        getVideoData(query).then(data=>setVideo(data)).catch(error=>setError(\"COULD NOT FIND VIDEO WITH THIS URL\"));\r\n    }, [query])\r\n\r\n    const onDownload=(itag, container)=>{\r\n        if(video.title && itag && container){\r\n            history.push(`/video/${query}/confirm/${itag}/${container}`)\r\n        }\r\n    }\r\n    const onDownloadMp3=(itag)=>{\r\n        if(video.title && itag){\r\n            history.push(`/video/${query}/confirm_mp3/${itag}`)\r\n        }\r\n    }\r\n\r\n\r\n    if(error) return <Error message={error}/>\r\n    if(!video) return <Loading/>\r\n    return (\r\n        <div id=\"videoView\">\r\n            <VideoCard thumbnail={video.thumbnail} title={video.title} length={video.length}/>\r\n            <FormatSelect onDownload={onDownload} onDownloadMp3={onDownloadMp3} formatList={video.formats}/>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default VideoView\r\n","import React from 'react'\r\nimport icon from '../img/coon.png'\r\n\r\nconst Banner = ({text=\"YOUTUBE COON\"}) => {\r\n    return (\r\n        <div id=\"banner\" className=\"centerText\">\r\n            <img alt=\"panda\" src={icon}/>\r\n            <h1>{text}</h1>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Banner\r\n","import React, {useState, useEffect} from 'react'\r\nimport { Route } from 'react-router-dom'\r\nimport Searchbar from './Searchbar'\r\nimport VideoCard from './VideoCard'\r\nimport VideoView from './VideoView'\r\nimport Banner from './Banner'\r\n\r\nconst getYoutubeID = (url) => {\r\n    /* check if its a valid youtube url and then take the first 11 chars of id and ditch the others */\r\n    const idRegex = /^.*(youtu.be\\/|youtube(-nocookie)?.com\\/(v\\/|.*u\\/\\w\\/|embed\\/|.*v=))([\\w-]{11}).*/;\r\n    const urlComponents=url.match(idRegex)\r\n    if (urlComponents && urlComponents[4]) {\r\n        return urlComponents[4]\r\n    }\r\n    return false\r\n}\r\n\r\nlet timeout=null;\r\n\r\nexport default ({ video, setVideo, history }) => {\r\n    const [searchState, setSearch]=useState(\"\");\r\n\r\n    useEffect(() => {\r\n        return () => {\r\n            clearTimeout(timeout)\r\n        };\r\n    }, [])\r\n\r\n    const showError=()=>{\r\n        setSearch(\"NOT A VALID URL OR ID\")\r\n        timeout=setTimeout(()=>{    \r\n            setSearch(\"\")\r\n        },3000)\r\n    }\r\n\r\n    const onSearchSubmit = (value) => {\r\n        if (value) {\r\n            const ytID=getYoutubeID(value);\r\n            if(ytID) return history.push(`/video/${ytID}`)\r\n            console.log(\"not a valid youtube url or id\");\r\n            showError();\r\n        }\r\n    }\r\n\r\n    return (\r\n        <div id=\"downloader\" className=\"inner\">\r\n            <Banner text={searchState? searchState : \"YOUTUBE COON <DL>\"}/>\r\n            <Route path={[\"/video/:query?\", \"/\"]}\r\n                render={({ match }) =>\r\n                    <Searchbar\r\n                        match={match}\r\n                        placeholder=\"ENTER VIDEO URL\"\r\n                        onSubmit={onSearchSubmit}\r\n                    />}\r\n            />\r\n            <Route path=\"/video/:query\" render={(props) => <VideoView video={video} setVideo={setVideo} {...props} />} />\r\n        </div>\r\n    )\r\n}\r\n","import React from \"react\";\r\nimport {Link} from 'react-router-dom'\r\n\r\nconst VideoListCard = ({ video }) => {\r\n  const videoID=video && video.link? video.link.match(/.*(?:youtu.be\\/|v\\/|u\\/\\w\\/|embed\\/|watch\\?v=)([^#\\&\\?]*).*/)[1] : \"\";\r\n  return (\r\n    <Link to={`/video/${videoID}`}>\r\n      <div id=\"videoListCard\" className=\"pointer\">\r\n        <img alt=\"video thumbnail\" src={video.thumbnail} />\r\n        <h3>{video.title}</h3>\r\n      </div>\r\n    </Link>\r\n  );\r\n};\r\n\r\nexport default VideoListCard;\r\n","import React from 'react'\r\nimport VideoListCard from './VideoListCard'\r\n\r\nconst VideoList = ({videos=[]}) => {\r\n    return (\r\n        <section id=\"videoList\">\r\n            {videos.map(video=><VideoListCard key={video.link} video={video}/>)}\r\n        </section>\r\n    )\r\n}\r\n\r\nexport default VideoList\r\n","import { useEffect, useRef } from 'react';\r\n\r\n\r\n\r\nexport default function(value) {\r\n    // The ref object is a generic container whose current property is mutable ...\r\n    // ... and can hold any value, similar to an instance property on a class\r\n    const ref = useRef();\r\n    \r\n    // Store current value in ref\r\n    useEffect(() => {\r\n      ref.current = value;\r\n    }, [value]); // Only re-run if value changes\r\n    \r\n    // Return previous value (happens before update in useEffect above)\r\n    return ref.current;\r\n  }","import React, { useState, useEffect } from 'react'\r\nimport { Link } from 'react-router-dom'\r\nimport VideoList from './VideoList'\r\nimport Loading from './Loading'\r\nimport { searchVideo } from '../api/api'\r\nimport usePrevious from './usePrevious'\r\n\r\n// api sometimes gives overlapping videos so filter out videos that are already in array (a)\r\nconst removeDouble = (a, b) => {\r\n    for (let i = b.length - 1; i >= 0; i--) {\r\n        for (let j = 0; j < a.length; j++) {\r\n            if (a[j].link === b[i].link) {\r\n                b.splice(i, 1);\r\n                break;\r\n            }\r\n        }\r\n    }\r\n    return b;\r\n}\r\n\r\nconst loadedPages = new Set()\r\n\r\nconst VideoSearch = ({ match, history }) => {\r\n    const [data, setData] = useState(null)\r\n    const [error, setError] = useState(null)\r\n\r\n    const prevPage = usePrevious(match.params.page || 1);\r\n    const prevQuery= usePrevious(match.params.query);\r\n\r\n    useEffect(() => {\r\n        /* if the page changes: check if we still search for the same term (query) and if we dont already have this page then load more videos :)*/\r\n        if (prevQuery===match.params.query && \r\n            !loadedPages.has(match.params.page)\r\n            ) {\r\n            \r\n            setError(null)\r\n            searchVideo(match.params.query, match.params.page)\r\n                .catch(error => {\r\n                    console.log(error)\r\n                    setError(true)\r\n                })\r\n                .then(json => {\r\n                    loadedPages.add(match.params.page)\r\n                    if (prevPage > match.params.page) {\r\n                        //console.log(\"loading prev\")\r\n                        return setData({ ...json, videos: [...removeDouble(data.videos, json.videos), ...data.videos] })\r\n                    } \r\n                        //console.log(\"loading next\")\r\n                        setData({ ...json, videos: [...data.videos, ...removeDouble(data.videos, json.videos)] })\r\n                    \r\n                })\r\n        }\r\n    }, [match.params.page])\r\n\r\n\r\n    useEffect(() => {\r\n        setError(null)\r\n        searchVideo(match.params.query, match.params.page)\r\n            .catch(error => {\r\n                console.log(error)\r\n                setError(true)\r\n            })\r\n            .then(json => {\r\n                loadedPages.add(match.params.page)\r\n                setData(json)\r\n            })\r\n        \r\n        return () => {\r\n            loadedPages.clear();\r\n        };\r\n    }, [match.params.query])\r\n\r\n\r\n\r\n    if (error) return <Link to=\"/search\"><h1 className=\"centerText errorMessage\">SEARCH FAILED!</h1></Link>\r\n    if (data && data.videos.length) {\r\n        return (\r\n            <>\r\n                <VideoList videos={data.videos} />\r\n\r\n                {/* loading additional pages seems to only work once so take it out for now */}\r\n                <PageNav page={match.params.page} query={match.params.query}/>\r\n\r\n            </>\r\n        )\r\n    }\r\n\r\n    return <Loading />\r\n}\r\n\r\nconst PageNav = ({ page=1, query }) => {\r\n    return (\r\n        <div id=\"pageNavContainer\">\r\n            {page > 1 &&\r\n                <Link to={`/search/${query}/${Number(page) - 1}`} className=\"undecoratedLink centerText\">\r\n                    <h3 id=\"videoSearchNav\" >PREV</h3>\r\n                </Link>\r\n            }\r\n            <Link to={`/search/${query}/${Number(page) + 1}`} className=\"undecoratedLink centerText\">\r\n                <h3 id=\"videoSearchNav\" >NEXT</h3>\r\n            </Link>\r\n        </div>\r\n    )\r\n}\r\n\r\n\r\nexport default VideoSearch\r\n","import React from 'react'\r\nimport { Route } from 'react-router-dom'\r\nimport Searchbar from './Searchbar'\r\nimport VideoSearch from './VideoSearch'\r\nimport Banner from './Banner'\r\n\r\n\r\nconst YoutubeSearch = ({ history, match }) => {\r\n    //console.log(match)\r\n    return (\r\n        <div className=\"inner\">\r\n            <Banner text=\"YOUTUBE COON <SEARCH>\"/>\r\n            <Route path=\"/search/:query?\"\r\n                render={({ match }) =>\r\n                    <Searchbar\r\n                        match={match}\r\n                        placeholder=\"SEARCH FOR VIDEO\"\r\n                        onSubmit={(inputVal) => history.push(`/search/${encodeURIComponent(inputVal)}/1`)}\r\n                    />}\r\n            />\r\n            <Route path=\"/search/:query/:page?\" component={VideoSearch} />\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default YoutubeSearch\r\n","import React from 'react'\r\n\r\nconst CloseIcon = ({onClick, className}) => {\r\n    return (\r\n        <div  onClick={onClick} id=\"closeIcon\"  className={\"centerAll pointer\"}>\r\n            <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"18\" height=\"18\" viewBox=\"0 0 24 24\"><path d=\"M24 20.188l-8.315-8.209 8.2-8.282-3.697-3.697-8.212 8.318-8.31-8.203-3.666 3.666 8.321 8.24-8.206 8.313 3.666 3.666 8.237-8.318 8.285 8.203z\"/></svg>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default CloseIcon\r\n","import React from 'react'\r\n\r\nconst Progress = ({size, progress}) => {\r\n    return (\r\n        <div className=\"progressContainer centerText fancyShadow\">\r\n            <p>SIZE: {(size/1000000).toFixed(2)} MB</p>\r\n            <progress value={progress} max={size}/>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Progress\r\n","import React, { useState, useEffect } from 'react'\r\nimport { downloadMp3, downloadVideo, getFileSize } from '../api/api';\r\nimport CloseIcon from './CloseIcon';\r\nimport Progress from './Progress';\r\n\r\nexport const ConfirmDownload = ({ match, video, history }) => {\r\n    const [downloadState, setDownload] = useState(\"download\");\r\n    const [name, setName] = useState(\"\");\r\n\r\n    const [metadata, setMeta] = useState(0);\r\n    const [error, setError] = useState(\"\");\r\n    const [progress, setProgress] = useState(0);\r\n\r\n    const download = async (event) => {\r\n        event.preventDefault();\r\n        if(downloadState===\"download\"){\r\n            setDownload(\"loading\")\r\n            await downloadVideo(match.params.query, match.params.itag, name, metadata, (loaded)=>setProgress(loaded), (state)=>setDownload(state))\r\n        }\r\n\r\n    }\r\n    const reset=()=>{\r\n        setMeta(null);\r\n        setProgress(0);\r\n        setError(\"\");\r\n        setDownload(\"download\");\r\n    }\r\n    useEffect(() => {\r\n        reset()\r\n        if (video) setName(video.title)\r\n        getFileSize(match.params.query, match.params.itag).then(response => {\r\n            setMeta(response.data);\r\n        }).catch(e => {\r\n            console.log(e);\r\n            setError(\"failed to get videoinfo... you can try download anyway\")\r\n        });\r\n    }, [video, match.params.query, match.params.itag])\r\n\r\n    if (!video) return <div id=\"confirmModal\" className=\"centerAll\"><h1>LOADING</h1></div>\r\n\r\n    return (\r\n        <div id=\"confirmModal\" className=\"centerAll\">\r\n            <form id=\"customNameForm\" onSubmit={download}>\r\n                <CloseIcon onClick={() => history.push(`/video/${match.params.query}`)} />\r\n                <h1 className=\"centerText\">CONFIRM DOWNLOAD</h1>\r\n                {metadata && <Progress size={metadata.size} progress={progress} />}\r\n                <input value={name} onChange={(e) => setName(e.target.value)} type=\"text\" />\r\n                <input className=\"submit hoverShadow\" value={downloadState} type=\"submit\" />\r\n            </form>\r\n        </div>\r\n    )\r\n}\r\n\r\n\r\n\r\n\r\nexport const ConfirmDownloadMp3 = ({ match, video, history }) => {\r\n    const [downloadState, setDownload] = useState(\"download\");\r\n    const [name, setName] = useState(\"\");\r\n\r\n    const [metadata, setMeta] = useState(0);\r\n    const [error, setError] = useState(\"\");\r\n    const [progress, setProgress] = useState(0);\r\n\r\n    const [artist, setArtist] = useState(\"\");\r\n    const [song, setSong] = useState(\"\");\r\n\r\n    const download = async (event) => {\r\n        event.preventDefault();\r\n        if(downloadState===\"download\"){\r\n            setDownload(\"loading\")\r\n            const cover=video && video.thumbnail\r\n            await downloadMp3(\r\n                match.params.query, \r\n                match.params.itag, \r\n                name,\r\n                metadata, \r\n                {title: song, artist: artist, cover: cover}, \r\n                (loaded)=>setProgress(loaded), \r\n                (state)=>setDownload(state)\r\n            );\r\n        }\r\n    }\r\n    const reset=()=>{\r\n        setMeta(null);\r\n        setProgress(0);\r\n        setError(\"\");\r\n        setDownload(\"download\");\r\n    }\r\n\r\n    useEffect(() => {\r\n        reset();\r\n        if (video) setName(video.title)\r\n        getFileSize(match.params.query, match.params.itag).then(response => {\r\n            setMeta(response.data)\r\n        }).catch(e => {\r\n            console.log(e);\r\n            setError(\"failed to get videoinfo... you can try download anyway\")\r\n        });\r\n    }, [video, match.params.query, match.params.itag])\r\n\r\n\r\n    const generateMp3Tags=(event)=>{\r\n        event.preventDefault();\r\n        if(video.title){\r\n            const parts=video.title.split(\"-\");\r\n            if(parts.length===2){\r\n                setArtist(parts[0].trim());\r\n                setSong(parts[1].trim());\r\n            }\r\n        }\r\n    }\r\n\r\n\r\n    if (!video) return <div id=\"confirmModal\" className=\"centerAll\"><h1>LOADING</h1></div>\r\n\r\n    return (\r\n        <div id=\"confirmModal\" className=\"centerAll\">\r\n            <form id=\"customNameForm\" onSubmit={download}>\r\n                <CloseIcon onClick={() => history.push(`/video/${match.params.query}`)} />\r\n                <h1 className=\"centerText\">CONFIRM DOWNLOAD</h1>\r\n                {metadata && <Progress size={metadata.size} progress={progress} />}\r\n                <input value={name} onChange={(e) => setName(e.target.value)} type=\"text\" />\r\n                \r\n                <button onClick={generateMp3Tags} id=\"autoMp3Button\" className=\"marginAuto\">AUTO GENERATE</button>\r\n                \r\n                <input value={artist} placeholder=\"add an artist if you want\" onChange={(e) => setArtist(e.target.value)} type=\"text\" />\r\n                <input value={song} placeholder=\"add song name\" onChange={(e) => setSong(e.target.value)} type=\"text\" />\r\n                <input className=\"submit hoverShadow\" value={downloadState} type=\"submit\" />\r\n            </form>\r\n        </div>\r\n    )\r\n}\r\n\r\n","import React, { useState } from 'react';\r\nimport './App.css';\r\nimport { BrowserRouter, Route, Switch } from 'react-router-dom'\r\nimport Navigation from './components/Navigation';\r\nimport Downloader from './components/Downloader';\r\nimport YoutubeSearch from './components/YoutubeSearch';\r\nimport Banner from './components/Banner'\r\n\r\nimport { ConfirmDownload, ConfirmDownloadMp3 } from './components/ConfirmDownload';\r\n\r\n\r\nfunction App() {\r\n  const [video, setVideo] = useState(null);\r\n\r\n  return (\r\n    <BrowserRouter>\r\n      <div className=\"fullSizeContainer borderBox\">\r\n        <Navigation />\r\n        <main>\r\n          <Switch>\r\n            <Route path=\"/search\" component={YoutubeSearch} />\r\n            <Route path=\"/\" render={({ history }) => <Downloader history={history} video={video} setVideo={setVideo} />} />\r\n          </Switch>\r\n          <Route\r\n            path=\"/video/:query/confirm/:itag\"\r\n            render={\r\n              (props) => <ConfirmDownload {...props} video={video} />}\r\n          />\r\n          <Route\r\n            path=\"/video/:query/confirm_mp3/:itag\"\r\n            render={\r\n              (props) => <ConfirmDownloadMp3 {...props} video={video} />}\r\n          />\r\n        </main>\r\n        <footer className=\"centerText\">\r\n          <p>\r\n            found a bug or have a question?  \r\n          </p>\r\n          <a href=\"mailto:kantemir.imam@gmail.com\">{\"<Contact!>\"}</a>\r\n        </footer>\r\n      </div>\r\n    </BrowserRouter>\r\n\r\n  );\r\n}\r\n\r\nexport default App;\r\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App.jsx';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(<App />, document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}
(this["webpackJsonpyt-downloader"]=this["webpackJsonpyt-downloader"]||[]).push([[6],{34:function(e,t,n){"use strict";n.d(t,"e",(function(){return m})),n.d(t,"c",(function(){return p})),n.d(t,"a",(function(){return h})),n.d(t,"b",(function(){return g})),n.d(t,"d",(function(){return w})),n.d(t,"f",(function(){return b}));var a=n(35),o=n.n(a),c=n(36),r=n(37),i=n.n(r),u=n(38),l=n(39),s=n.n(l),d="/api",f=d+"/ytdl";function m(e){return v.apply(this,arguments)}function v(){return(v=Object(c.a)(o.a.mark((function e(t){var n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(f,"/simpleinfo?videolink=").concat(t));case 2:if(!((n=e.sent).status>=400)){e.next=5;break}throw new Error(n);case 5:return e.next=7,n.json();case 7:return e.abrupt("return",e.sent);case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function p(e,t,n,a){var o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:function(e){return console.log(e)},c=arguments.length>5&&void 0!==arguments[5]?arguments[5]:function(e){return console.log(e)};s()({url:"".concat(f,"/download?videolink=").concat(e).concat(t?"&format=".concat(t):""),method:"GET",responseType:"arraybuffer",onDownloadProgress:a?function(e){console.log(e.loaded),o(e.loaded)}:null}).then((function(e){var t=a?a.format.container:"mp4";Object(u.saveAs)(new Blob([e.data]),n?"".concat(n,".").concat(t):"video".concat(Date.now(),".mp4")),c("finished")})).catch((function(e){console.log(e),c("failed! :(")}))}function h(e,t,n,a,o){var c=arguments.length>5&&void 0!==arguments[5]?arguments[5]:function(e){return console.log(e)},r=arguments.length>6&&void 0!==arguments[6]?arguments[6]:function(e){return console.log(e)};s()({url:"".concat(f,"/downloadmp3?videolink=").concat(e).concat(t?"&format=".concat(t):""),method:"GET",responseType:"arraybuffer",onDownloadProgress:a?function(e){c(e.loaded)}:null}).then((function(e){var t=new i.a(e.data);if(o){var a=o.title,c=o.artist;a&&t.setFrame("TIT2",a),c&&t.setFrame("TPE1",[c])}t.addTag();var l=t.getBlob();Object(u.saveAs)(l,n?"".concat(n,".mp3"):"music".concat(Date.now(),".mp3")),r("finished")})).catch((function(e){console.log(e),r("failed! :(")}))}function g(e,t,n,a,o){var c=arguments.length>5&&void 0!==arguments[5]?arguments[5]:function(e){return console.log(e)},r=arguments.length>6&&void 0!==arguments[6]?arguments[6]:function(e){return console.log(e)};s()({url:"".concat(f,"/downloadmp3?videolink=").concat(e).concat(t?"&format=".concat(t):""),method:"GET",responseType:"arraybuffer",onDownloadProgress:a?function(e){c(e.loaded)}:null}).then((function(e){var t=new i.a(e.data);if(o){var a=o.title,c=o.artist;a&&t.setFrame("TIT2",a),c&&t.setFrame("TPE1",[c])}t.addTag();var l=t.getBlob();Object(u.saveAs)(l,n?"".concat(n,".mp3"):"music".concat(Date.now(),".mp3")),r("finished")})).catch((function(e){console.log(e),r("failed! :(")}))}function w(e,t){return s()({url:"".concat(f,"/getsize?videolink=").concat(e).concat(t?"&format=".concat(t):""),method:"GET"})}function b(e,t){return fetch("".concat(d,"/search?q=").concat(e).concat(t?"&page="+t:"")).then((function(e){if(!e.ok)throw Error(e.statusText);return e.json()}))}},40:function(e,t,n){"use strict";var a=n(0),o=n.n(a);t.a=function(e){var t=e.onClick;e.className;return o.a.createElement("div",{onClick:t,id:"closeIcon",className:"centerAll pointer"},o.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"18",height:"18",viewBox:"0 0 24 24"},o.a.createElement("path",{d:"M24 20.188l-8.315-8.209 8.2-8.282-3.697-3.697-8.212 8.318-8.31-8.203-3.666 3.666 8.321 8.24-8.206 8.313 3.666 3.666 8.237-8.318 8.285 8.203z"})))}},41:function(e,t,n){"use strict";var a=n(0),o=n.n(a);t.a=function(e){return Object(a.useEffect)((function(){return document.body.style.overflow="hidden",function(){document.body.style.overflow="unset"}}),[]),o.a.createElement("div",{className:"modal"},e.children)}},42:function(e,t,n){"use strict";var a=n(0),o=n.n(a);t.a=function(e){var t=e.size,n=e.progress;return o.a.createElement("div",{className:"progressContainer centerText fancyShadow"},o.a.createElement("p",null,"SIZE: ",(t/1e6).toFixed(2)," MB"),o.a.createElement("progress",{value:n,max:t}))}},72:function(e,t,n){"use strict";n.r(t);var a=n(8),o=n(0),c=n.n(o),r=n(34),i=n(40),u=n(41),l=n(42);t.default=function(e){var t=e.match,n=e.video,s=e.history,d=Object(o.useState)("download"),f=Object(a.a)(d,2),m=f[0],v=f[1],p=Object(o.useState)(""),h=Object(a.a)(p,2),g=h[0],w=h[1],b=Object(o.useState)(0),y=Object(a.a)(b,2),E=y[0],O=y[1],j=Object(o.useState)(""),T=Object(a.a)(j,2),k=(T[0],T[1]),x=Object(o.useState)(0),N=Object(a.a)(x,2),D=N[0],S=N[1],A=function(){O(null),S(0),k(""),v("download")},F=function(){s.push("/video/".concat(t.params.query))};return Object(o.useEffect)((function(){A(),n&&w(n.title),Object(r.d)(t.params.query,t.params.itag).then((function(e){O(e.data)})).catch((function(e){console.log(e),k("failed to get videoinfo... you can try download anyway")}))}),[n,t.params.query,t.params.itag]),n?c.a.createElement(u.a,null,c.a.createElement("form",{id:"customNameForm",className:"modalInner",onSubmit:function(e){return e.preventDefault(),"download"===m?(v("loading"),Object(r.c)(t.params.query,t.params.itag,g,E,(function(e){return S(e)}),(function(e){return v(e)}))):"failed :("===m?A():"finished"===m?F():void 0}},c.a.createElement(i.a,{onClick:F}),c.a.createElement("h1",{className:"centerText"},"CONFIRM DOWNLOAD"),E&&c.a.createElement(l.a,{size:E.size,progress:D}),c.a.createElement("input",{value:g,onChange:function(e){return w(e.target.value)},type:"text"}),c.a.createElement("input",{className:"submit hoverShadow",value:m,type:"submit"}))):c.a.createElement("div",{id:"confirmModal",className:"centerAll"},c.a.createElement("h1",null,"LOADING"))}}}]);
//# sourceMappingURL=6.711cc280.chunk.js.map
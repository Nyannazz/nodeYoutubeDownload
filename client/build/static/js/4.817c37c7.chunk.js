(this["webpackJsonpyt-downloader"]=this["webpackJsonpyt-downloader"]||[]).push([[4],{34:function(e,t,n){"use strict";n.d(t,"d",(function(){return f})),n.d(t,"b",(function(){return E})),n.d(t,"a",(function(){return p})),n.d(t,"c",(function(){return h})),n.d(t,"e",(function(){return b}));var a=n(35),r=n.n(a),o=n(36),c=n(37),i=n.n(c),l=n(38),u=n(39),d=n.n(u),m="/api",s=m+"/ytdl";function f(e){return v.apply(this,arguments)}function v(){return(v=Object(o.a)(r.a.mark((function e(t){var n;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(s,"/simpleinfo?videolink=").concat(t));case 2:if(!((n=e.sent).status>=400)){e.next=5;break}throw new Error(n);case 5:return e.next=7,n.json();case 7:return e.abrupt("return",e.sent);case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function E(e,t,n,a){var r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:function(e){return console.log(e)},o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:function(e){return console.log(e)};d()({url:"".concat(s,"/download?videolink=").concat(e).concat(t?"&format=".concat(t):""),method:"GET",responseType:"arraybuffer",onDownloadProgress:a?function(e){console.log(e.loaded),r(e.loaded)}:null}).then((function(e){var t=a?a.format.container:"mp4";Object(l.saveAs)(new Blob([e.data]),n?"".concat(n,".").concat(t):"video".concat(Date.now(),".mp4")),o("finished")})).catch((function(e){console.log(e),o("failed! :(")}))}function p(e,t,n,a,r){var o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:function(e){return console.log(e)},c=arguments.length>6&&void 0!==arguments[6]?arguments[6]:function(e){return console.log(e)};d()({url:"".concat(s,"/downloadmp3?videolink=").concat(e).concat(t?"&format=".concat(t):""),method:"GET",responseType:"arraybuffer",onDownloadProgress:a?function(e){o(e.loaded)}:null}).then((function(e){var t=new i.a(e.data);if(r){var a=r.title,o=r.artist;r.cover;a&&t.setFrame("TIT2",a),o&&t.setFrame("TPE1",[o])}t.addTag();var u=t.getBlob();Object(l.saveAs)(u,n?"".concat(n,".mp3"):"music".concat(Date.now(),".mp3")),c("finished")})).catch((function(e){console.log(e),c("failed! :(")}))}function h(e,t){return d()({url:"".concat(s,"/getsize?videolink=").concat(e).concat(t?"&format=".concat(t):""),method:"GET"})}function b(e,t){return fetch("".concat(m,"/search?q=").concat(e).concat(t?"&page="+t:"")).then((function(e){if(!e.ok)throw Error(e.statusText);return e.json()}))}},42:function(e,t,n){"use strict";var a=n(8),r=n(0),o=n.n(r);t.a=function(e){var t=e.onSubmit,n=e.placeholder,c=void 0===n?"SEARCH FOR YOUTUBE URL":n,i=e.match,l=Object(r.useState)(""),u=Object(a.a)(l,2),d=u[0],m=u[1];return Object(r.useEffect)((function(){i.params.query?m(decodeURIComponent(i.params.query)):m("")}),[i.params.query]),o.a.createElement("form",{onSubmit:function(e){e.preventDefault(),t(d)},id:"searchbar",className:"margin0Auto"},o.a.createElement("input",{value:d,onChange:function(e){return m(e.target.value)},placeholder:c,type:"text",id:"searchText",required:!0}),o.a.createElement("input",{type:"submit",value:"SEARCH",id:"searchSubmit"}))}},43:function(e,t,n){"use strict";var a=n(0),r=n.n(a);t.a=function(){return r.a.createElement("div",{className:"loading centerText textUpper"},"LOADING...")}},44:function(e,t,n){"use strict";var a=n(0),r=n.n(a),o=n(13),c=n.n(o);t.a=function(e){var t=e.text,n=void 0===t?"YOUTUBE COON":t;return r.a.createElement("div",{id:"banner",className:"centerText"},r.a.createElement("img",{alt:"panda",src:c.a}),r.a.createElement("h1",null,n))}},74:function(e,t,n){"use strict";n.r(t);var a=n(8),r=n(0),o=n.n(r),c=n(5),i=n(42),l=function(e){var t=e.thumbnail,n=e.title,a=e.length;return o.a.createElement("div",{id:"videoCard"},o.a.createElement("img",{src:t,alt:"video thumbnail"}),o.a.createElement("h3",null,n),o.a.createElement("p",null,"duration: ",o.a.createElement("strong",null,a?(a/60).toFixed(2):0," minutes")),o.a.createElement("div",null))},u=n(34),d=n(43),m=function(e){var t=e.container,n=e.type,a=e.audioBitrate,r=e.qualityLabel,c=e.url,i=e.itag,l=e.onDownload;return o.a.createElement("tr",{id:"formatItem"},o.a.createElement("td",{id:"format"},n),o.a.createElement("td",{id:"quality"},r||a+" bitrate"),o.a.createElement("td",{className:"centerText"},o.a.createElement("a",{href:c},"SOURCE")),o.a.createElement("td",{className:"pointer"},o.a.createElement("div",{onClick:function(){return l(i,t)},id:"download"},"DOWNLOAD")))},s=function(e){var t=e.formats,n=void 0===t?[]:t,a=e.onDownload,r=e.convertMp3;return o.a.createElement("tbody",null,n.map((function(e,t){return o.a.createElement(m,Object.assign({onDownload:a},e,{type:r?"mp3":e.type,key:"videoFormat_".concat(t)}))})))},f=function(e){var t=e.formatList,n=void 0===t?[]:t,c=e.onDownload,i=e.onDownloadMp3;console.log(Date.now());var l=Object(r.useState)("video"),u=Object(a.a)(l,2),d=u[0],m=u[1],f=n.filter((function(e){return e.type.match(/^audio/)})),v=n.filter((function(e){return e.type.match(/^video/)&&e.audioBitrate})),E=n.filter((function(e){return e.type.match(/^video/)&&!e.audioBitrate}));return o.a.createElement("div",{id:"formatSelect"},o.a.createElement("div",{id:"tabSwitch"},o.a.createElement("div",{onClick:function(){return m("video")},className:"video"===d?"activeTab":"inactiveTab"},"VIDEO"),o.a.createElement("div",{onClick:function(){return m("audio")},className:"audio"===d?"activeTab":"inactiveTab"},"AUDIO"),o.a.createElement("div",{onClick:function(){return m("mp3")},className:"mp3"===d?"activeTab":"inactiveTab"},"MP3"),o.a.createElement("div",{onClick:function(){return m("videoOnly")},className:"videoOnly"===d?"activeTab":"inactiveTab"},"VIDEO ONLY")),o.a.createElement("table",null,o.a.createElement("thead",null,o.a.createElement("tr",{id:"tableHeader"},o.a.createElement("th",null,"FORMAT"),o.a.createElement("th",null,"QUALITY"),o.a.createElement("th",null,"LINK"),o.a.createElement("th",null,"DOWNLOAD"))),"video"===d&&o.a.createElement(s,{onDownload:c,formats:v}),"audio"===d&&o.a.createElement(s,{onDownload:c,formats:f}),"mp3"===d&&o.a.createElement(s,{convertMp3:!0,onDownload:i,formats:f}),"videoOnly"===d&&o.a.createElement(s,{onDownload:c,formats:E})))},v=function(e){var t=e.message,n=e.children;return o.a.createElement("div",{className:"errorMessage centerText textUpper"},o.a.createElement("p",null,t),n)},E=function(e){var t=e.match,n=e.history,c=e.video,i=e.setVideo,m=Object(r.useState)(null),s=Object(a.a)(m,2),E=s[0],p=s[1],h=t.params.query;Object(r.useEffect)((function(){i(null),p(null),Object(u.d)(h).then((function(e){return i(e)})).catch((function(e){return p("COULD NOT FIND VIDEO WITH THIS URL")}))}),[h]);return E?o.a.createElement(v,{message:E}):c?o.a.createElement("div",{id:"videoView"},o.a.createElement(l,{thumbnail:c.thumbnail,title:c.title,length:c.length}),o.a.createElement(f,{onDownload:function(e,t){c.title&&e&&t&&n.push("/video/".concat(h,"/confirm/").concat(e,"/").concat(t))},onDownloadMp3:function(e){c.title&&e&&n.push("/video/".concat(h,"/confirm_mp3/").concat(e))},formatList:c.formats})):o.a.createElement(d.a,null)},p=n(44),h=n(20),b=null;t.default=function(e){var t=e.video,n=e.setVideo,l=e.history,u=Object(r.useState)(""),d=Object(a.a)(u,2),m=d[0],s=d[1];Object(r.useEffect)((function(){return function(){clearTimeout(b)}}),[]);var f=function(e){if(e){var t=Object(h.a)(e);if(t)return l.push("/video/".concat(t));console.log("not a valid youtube url or id"),s("NOT A VALID URL OR ID"),b=setTimeout((function(){s("")}),3e3)}};return o.a.createElement("div",{id:"downloader",className:"inner"},o.a.createElement(p.a,{text:m||"YOUTUBE COON <DL>"}),o.a.createElement(c.a,{path:["/video/:query?","/"],render:function(e){var t=e.match;return o.a.createElement(i.a,{match:t,placeholder:"ENTER VIDEO URL",onSubmit:f})}}),o.a.createElement(c.a,{path:"/video/:query",render:function(e){return o.a.createElement(E,Object.assign({video:t,setVideo:n},e))}}))}}}]);
//# sourceMappingURL=4.817c37c7.chunk.js.map
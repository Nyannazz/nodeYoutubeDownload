(this["webpackJsonpyt-downloader"]=this["webpackJsonpyt-downloader"]||[]).push([[0],{14:function(e,t,a){e.exports=a.p+"static/media/coon.c7bb7959.png"},36:function(e,t,a){e.exports=a(65)},41:function(e,t,a){},42:function(e,t,a){},65:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(31),o=a.n(c),i=(a(41),a(1)),l=(a(42),a(3)),u=a(8),s=a(14),m=a.n(s),d=function(){return r.a.createElement(l.b,{id:"mainIcon",className:"centerAll",to:"/"},"YT",r.a.createElement("img",{src:m.a,alt:"coon icon"}),"COON")},f=function(){return r.a.createElement("nav",{id:"nav"},r.a.createElement("div",{className:"inner"},r.a.createElement(d,null),r.a.createElement("section",null,r.a.createElement(l.b,{to:"/search",className:"pointer undecoratedLink"},"SEARCH"))))},v=function(e){var t=e.onSubmit,a=e.placeholder,c=void 0===a?"SEARCH FOR YOUTUBE URL":a,o=e.match,l=Object(n.useState)(""),u=Object(i.a)(l,2),s=u[0],m=u[1];return Object(n.useEffect)((function(){o.params.query?m(decodeURIComponent(o.params.query)):m("")}),[o.params.query]),r.a.createElement("form",{onSubmit:function(e){e.preventDefault(),t(s)},id:"searchbar",className:"margin0Auto"},r.a.createElement("input",{value:s,onChange:function(e){return m(e.target.value)},placeholder:c,type:"text",id:"searchText",required:!0}),r.a.createElement("input",{type:"submit",value:"SEARCH",id:"searchSubmit"}))},p=function(e){var t=e.thumbnail,a=e.title,n=e.length;return r.a.createElement("div",{id:"videoCard"},r.a.createElement("img",{src:t,alt:"video thumbnail"}),r.a.createElement("h3",null,a),r.a.createElement("p",null,"duration: ",r.a.createElement("strong",null,n?(n/60).toFixed(2):0," minutes")),r.a.createElement("div",null))},E=a(9),h=a.n(E),b=a(12),O=a(34),g=a.n(O),y=a(19),w=a(15),j=a.n(w),N="/api",D=N+"/ytdl";function S(){return(S=Object(b.a)(h.a.mark((function e(t){var a;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(D,"/simpleinfo?videolink=").concat(t));case 2:if(!((a=e.sent).status>=400)){e.next=5;break}throw new Error(a);case 5:return e.next=7,a.json();case 7:return e.abrupt("return",e.sent);case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function T(e,t,a,n){var r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:function(e){return console.log(e)},c=arguments.length>5&&void 0!==arguments[5]?arguments[5]:function(e){return console.log(e)};j()({url:"".concat(D,"/download?videolink=").concat(e).concat(t?"&format=".concat(t):""),method:"GET",responseType:"arraybuffer",onDownloadProgress:n?function(e){console.log(e.loaded),r(e.loaded)}:null}).then((function(e){var t=n?n.format.container:"mp4";Object(y.saveAs)(new Blob([e.data]),a?"".concat(a,".").concat(t):"video".concat(Date.now(),".mp4")),c("finished")})).catch((function(e){console.log(e),c("failed! :(")}))}function x(e,t,a,n,r){var c=arguments.length>5&&void 0!==arguments[5]?arguments[5]:function(e){return console.log(e)},o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:function(e){return console.log(e)};j()({url:"".concat(D,"/downloadmp3?videolink=").concat(e).concat(t?"&format=".concat(t):""),method:"GET",responseType:"arraybuffer",onDownloadProgress:n?function(e){c(e.loaded)}:null}).then((function(e){var t=new g.a(e.data);if(r){var n=r.title,c=r.artist;r.cover;n&&t.setFrame("TIT2",n),c&&t.setFrame("TPE1",[c])}t.addTag();var i=t.getBlob();Object(y.saveAs)(i,a?"".concat(a,".mp3"):"music".concat(Date.now(),".mp3")),o("finished")})).catch((function(e){console.log(e),o("failed! :(")}))}function k(e,t){return j()({url:"".concat(D,"/getsize?videolink=").concat(e).concat(t?"&format=".concat(t):""),method:"GET"})}function C(e,t){return fetch("".concat(N,"/search?q=").concat(e).concat(t?"&page="+t:"")).then((function(e){if(!e.ok)throw Error(e.statusText);return e.json()}))}var q=function(){return r.a.createElement("div",{className:"loading centerText textUpper"},"LOADING...")},A=function(e){var t=e.container,a=e.type,n=e.audioBitrate,c=e.qualityLabel,o=e.url,i=e.itag,l=e.onDownload;return r.a.createElement("tr",{id:"formatItem"},r.a.createElement("td",{id:"format"},a),r.a.createElement("td",{id:"quality"},c||n+" bitrate"),r.a.createElement("td",{className:"centerText"},r.a.createElement("a",{href:o},"SOURCE")),r.a.createElement("td",{className:"pointer"},r.a.createElement("div",{onClick:function(){return l(i,t)},id:"download"},"DOWNLOAD")))},I=function(e){var t=e.formats,a=void 0===t?[]:t,n=e.onDownload,c=e.convertMp3;return r.a.createElement("tbody",null,a.map((function(e,t){return r.a.createElement(A,Object.assign({onDownload:n},e,{type:c?"mp3":e.type,key:"videoFormat_".concat(t)}))})))},L=function(e){var t=e.formatList,a=void 0===t?[]:t,c=e.onDownload,o=e.onDownloadMp3;console.log(Date.now());var l=Object(n.useState)("video"),u=Object(i.a)(l,2),s=u[0],m=u[1],d=a.filter((function(e){return e.type.match(/^audio/)})),f=a.filter((function(e){return e.type.match(/^video/)&&e.audioBitrate})),v=a.filter((function(e){return e.type.match(/^video/)&&!e.audioBitrate}));return r.a.createElement("div",{id:"formatSelect"},r.a.createElement("div",{id:"tabSwitch"},r.a.createElement("div",{onClick:function(){return m("video")},className:"video"===s?"activeTab":"inactiveTab"},"VIDEO"),r.a.createElement("div",{onClick:function(){return m("audio")},className:"audio"===s?"activeTab":"inactiveTab"},"AUDIO"),r.a.createElement("div",{onClick:function(){return m("mp3")},className:"mp3"===s?"activeTab":"inactiveTab"},"MP3"),r.a.createElement("div",{onClick:function(){return m("videoOnly")},className:"videoOnly"===s?"activeTab":"inactiveTab"},"VIDEO ONLY")),r.a.createElement("table",null,r.a.createElement("thead",null,r.a.createElement("tr",{id:"tableHeader"},r.a.createElement("th",null,"FORMAT"),r.a.createElement("th",null,"QUALITY"),r.a.createElement("th",null,"LINK"),r.a.createElement("th",null,"DOWNLOAD"))),"video"===s&&r.a.createElement(I,{onDownload:c,formats:f}),"audio"===s&&r.a.createElement(I,{onDownload:c,formats:d}),"mp3"===s&&r.a.createElement(I,{convertMp3:!0,onDownload:o,formats:d}),"videoOnly"===s&&r.a.createElement(I,{onDownload:c,formats:v})))},R=function(e){var t=e.message,a=e.children;return r.a.createElement("div",{className:"errorMessage centerText textUpper"},r.a.createElement("p",null,t),a)},U=function(e){var t=e.match,a=e.history,c=e.video,o=e.setVideo,l=Object(n.useState)(null),u=Object(i.a)(l,2),s=u[0],m=u[1],d=t.params.query;Object(n.useEffect)((function(){o(null),m(null),function(e){return S.apply(this,arguments)}(d).then((function(e){return o(e)})).catch((function(e){return m("COULD NOT FIND VIDEO WITH THIS URL")}))}),[d]);return s?r.a.createElement(R,{message:s}):c?r.a.createElement("div",{id:"videoView"},r.a.createElement(p,{thumbnail:c.thumbnail,title:c.title,length:c.length}),r.a.createElement(L,{onDownload:function(e,t){c.title&&e&&t&&a.push("/video/".concat(d,"/confirm/").concat(e,"/").concat(t))},onDownloadMp3:function(e){c.title&&e&&a.push("/video/".concat(d,"/confirm_mp3/").concat(e))},formatList:c.formats})):r.a.createElement(q,null)},M=function(e){var t=e.text,a=void 0===t?"YOUTUBE COON":t;return r.a.createElement("div",{id:"banner",className:"centerText"},r.a.createElement("img",{alt:"panda",src:m.a}),r.a.createElement("h1",null,a))};function B(e){var t=e.match(/^.*(youtu.be\/|youtube(-nocookie)?.com\/(v\/|.*u\/\w\/|embed\/|.*v=))([\w-]{11}).*/);return!(!t||!t[4])&&t[4]}var F=null,P=function(e){var t=e.video,a=e.setVideo,c=e.history,o=Object(n.useState)(""),l=Object(i.a)(o,2),s=l[0],m=l[1];Object(n.useEffect)((function(){return function(){clearTimeout(F)}}),[]);var d=function(e){if(e){var t=B(e);if(t)return c.push("/video/".concat(t));console.log("not a valid youtube url or id"),m("NOT A VALID URL OR ID"),F=setTimeout((function(){m("")}),3e3)}};return r.a.createElement("div",{id:"downloader",className:"inner"},r.a.createElement(M,{text:s||"YOUTUBE COON <DL>"}),r.a.createElement(u.a,{path:["/video/:query?","/"],render:function(e){var t=e.match;return r.a.createElement(v,{match:t,placeholder:"ENTER VIDEO URL",onSubmit:d})}}),r.a.createElement(u.a,{path:"/video/:query",render:function(e){return r.a.createElement(U,Object.assign({video:t,setVideo:a},e))}}))},V=a(13),H=a(35),z=function(e){var t=e.video,a=t&&t.link?t.link.match(/.*(?:youtu.be\/|v\/|u\/\w\/|embed\/|watch\?v=)([^#\&\?]*).*/)[1]:"";return r.a.createElement(l.b,{to:"/video/".concat(a)},r.a.createElement("div",{id:"videoListCard",className:"pointer"},r.a.createElement("img",{alt:"video thumbnail",src:t.thumbnail}),r.a.createElement("h3",null,t.title)))},G=function(e){var t=e.videos,a=void 0===t?[]:t;return r.a.createElement("section",{id:"videoList"},a.map((function(e){return r.a.createElement(z,{key:e.link,video:e})})))},W=function(e){var t=Object(n.useRef)();return Object(n.useEffect)((function(){t.current=e}),[e]),t.current};function Y(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function _(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?Y(a,!0).forEach((function(t){Object(H.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Y(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var J=function(e,t){for(var a=t.length-1;a>=0;a--)for(var n=0;n<e.length;n++)if(e[n].link===t[a].link){t.splice(a,1);break}return t},K=new Set,Q=function(e){var t=e.page,a=void 0===t?1:t,n=e.query;return r.a.createElement("div",{id:"pageNavContainer"},a>1&&r.a.createElement(l.b,{to:"/search/".concat(n,"/").concat(Number(a)-1),className:"undecoratedLink centerText"},r.a.createElement("h3",{id:"videoSearchNav"},"PREV")),r.a.createElement(l.b,{to:"/search/".concat(n,"/").concat(Number(a)+1),className:"undecoratedLink centerText"},r.a.createElement("h3",{id:"videoSearchNav"},"NEXT")))},X=function(e){var t=e.match,a=(e.history,Object(n.useState)(null)),c=Object(i.a)(a,2),o=c[0],u=c[1],s=Object(n.useState)(null),m=Object(i.a)(s,2),d=m[0],f=m[1],v=W(t.params.page||1),p=W(t.params.query);return Object(n.useEffect)((function(){p!==t.params.query||K.has(t.params.page)||(f(null),C(t.params.query,t.params.page).catch((function(e){console.log(e),f(!0)})).then((function(e){if(K.add(t.params.page),v>t.params.page)return u(_({},e,{videos:[].concat(Object(V.a)(J(o.videos,e.videos)),Object(V.a)(o.videos))}));u(_({},e,{videos:[].concat(Object(V.a)(o.videos),Object(V.a)(J(o.videos,e.videos)))}))})))}),[t.params.page]),Object(n.useEffect)((function(){return f(null),C(t.params.query,t.params.page).catch((function(e){console.log(e),f(!0)})).then((function(e){K.add(t.params.page),u(e)})),function(){K.clear()}}),[t.params.query]),d?r.a.createElement(l.b,{to:"/search"},r.a.createElement("h1",{className:"centerText errorMessage"},"SEARCH FAILED!")):o&&o.videos.length?r.a.createElement(r.a.Fragment,null,r.a.createElement(G,{videos:o.videos}),r.a.createElement(Q,{page:t.params.page,query:t.params.query})):r.a.createElement(q,null)},Z=function(e){var t=e.history;e.match;return r.a.createElement("div",{className:"inner"},r.a.createElement(M,{text:"YOUTUBE COON <SEARCH>"}),r.a.createElement(u.a,{path:"/search/:query?",render:function(e){var a=e.match;return r.a.createElement(v,{match:a,placeholder:"SEARCH FOR VIDEO",onSubmit:function(e){return t.push("/search/".concat(encodeURIComponent(e),"/1"))}})}}),r.a.createElement(u.a,{path:"/search/:query/:page?",component:X}))},$=function(e){var t=e.onClick;e.className;return r.a.createElement("div",{onClick:t,id:"closeIcon",className:"centerAll pointer"},r.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"18",height:"18",viewBox:"0 0 24 24"},r.a.createElement("path",{d:"M24 20.188l-8.315-8.209 8.2-8.282-3.697-3.697-8.212 8.318-8.31-8.203-3.666 3.666 8.321 8.24-8.206 8.313 3.666 3.666 8.237-8.318 8.285 8.203z"})))},ee=function(e){var t=e.size,a=e.progress;return r.a.createElement("div",{className:"progressContainer centerText fancyShadow"},r.a.createElement("p",null,"SIZE: ",(t/1e6).toFixed(2)," MB"),r.a.createElement("progress",{value:a,max:t}))},te=function(e){var t=e.match,a=e.video,c=e.history,o=Object(n.useState)("download"),l=Object(i.a)(o,2),u=l[0],s=l[1],m=Object(n.useState)(""),d=Object(i.a)(m,2),f=d[0],v=d[1],p=Object(n.useState)(0),E=Object(i.a)(p,2),O=E[0],g=E[1],y=Object(n.useState)(""),w=Object(i.a)(y,2),j=(w[0],w[1]),N=Object(n.useState)(0),D=Object(i.a)(N,2),S=D[0],x=D[1],C=function(){var e=Object(b.a)(h.a.mark((function e(a){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a.preventDefault(),"download"!==u){e.next=5;break}return s("loading"),e.next=5,T(t.params.query,t.params.itag,f,O,(function(e){return x(e)}),(function(e){return s(e)}));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(n.useEffect)((function(){g(null),x(0),j(""),s("download"),a&&v(a.title),k(t.params.query,t.params.itag).then((function(e){g(e.data)})).catch((function(e){console.log(e),j("failed to get videoinfo... you can try download anyway")}))}),[a,t.params.query,t.params.itag]),a?r.a.createElement("div",{id:"confirmModal",className:"centerAll"},r.a.createElement("form",{id:"customNameForm",onSubmit:C},r.a.createElement($,{onClick:function(){return c.push("/video/".concat(t.params.query))}}),r.a.createElement("h1",{className:"centerText"},"CONFIRM DOWNLOAD"),O&&r.a.createElement(ee,{size:O.size,progress:S}),r.a.createElement("input",{value:f,onChange:function(e){return v(e.target.value)},type:"text"}),r.a.createElement("input",{className:"submit hoverShadow",value:u,type:"submit"}))):r.a.createElement("div",{id:"confirmModal",className:"centerAll"},r.a.createElement("h1",null,"LOADING"))},ae=function(e){var t=e.match,a=e.video,c=e.history,o=Object(n.useState)("download"),l=Object(i.a)(o,2),u=l[0],s=l[1],m=Object(n.useState)(""),d=Object(i.a)(m,2),f=d[0],v=d[1],p=Object(n.useState)(0),E=Object(i.a)(p,2),O=E[0],g=E[1],y=Object(n.useState)(""),w=Object(i.a)(y,2),j=(w[0],w[1]),N=Object(n.useState)(0),D=Object(i.a)(N,2),S=D[0],T=D[1],C=Object(n.useState)(""),q=Object(i.a)(C,2),A=q[0],I=q[1],L=Object(n.useState)(""),R=Object(i.a)(L,2),U=R[0],M=R[1],B=function(){var e=Object(b.a)(h.a.mark((function e(n){var r;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n.preventDefault(),"download"!==u){e.next=6;break}return s("loading"),r=a&&a.thumbnail,e.next=6,x(t.params.query,t.params.itag,f,O,{title:U,artist:A,cover:r},(function(e){return T(e)}),(function(e){return s(e)}));case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();Object(n.useEffect)((function(){g(null),T(0),j(""),s("download"),a&&v(a.title),k(t.params.query,t.params.itag).then((function(e){g(e.data)})).catch((function(e){console.log(e),j("failed to get videoinfo... you can try download anyway")}))}),[a,t.params.query,t.params.itag]);return a?r.a.createElement("div",{id:"confirmModal",className:"centerAll"},r.a.createElement("form",{id:"customNameForm",onSubmit:B},r.a.createElement($,{onClick:function(){return c.push("/video/".concat(t.params.query))}}),r.a.createElement("h1",{className:"centerText"},"CONFIRM DOWNLOAD"),O&&r.a.createElement(ee,{size:O.size,progress:S}),r.a.createElement("input",{value:f,onChange:function(e){return v(e.target.value)},type:"text"}),r.a.createElement("button",{onClick:function(e){if(e.preventDefault(),a.title){var t=a.title.split("-");2===t.length&&(I(t[0].trim()),M(t[1].trim()))}},id:"autoMp3Button",className:"marginAuto"},"AUTO GENERATE"),r.a.createElement("input",{value:A,placeholder:"add an artist if you want",onChange:function(e){return I(e.target.value)},type:"text"}),r.a.createElement("input",{value:U,placeholder:"add song name",onChange:function(e){return M(e.target.value)},type:"text"}),r.a.createElement("input",{className:"submit hoverShadow",value:u,type:"submit"}))):r.a.createElement("div",{id:"confirmModal",className:"centerAll"},r.a.createElement("h1",null,"LOADING"))};var ne=function(){var e=Object(n.useState)(null),t=Object(i.a)(e,2),a=t[0],c=t[1];return r.a.createElement(l.a,null,r.a.createElement("div",{style:{minHeight:"".concat(window.innerHeight,"px")},className:"fullSizeContainer borderBox"},r.a.createElement(f,null),r.a.createElement("main",null,r.a.createElement(u.c,null,r.a.createElement(u.a,{path:"/share",render:function(e){return function(e){if(e&&e.location&&e.location.search){var t=new URL(window.location.toString()).searchParams.get("url");if(t){var a=B(t);if(a)return e.push("/video/".concat(a));e.push("/")}}}(e.history)}}),r.a.createElement(u.a,{path:"/search",component:Z}),r.a.createElement(u.a,{path:"/",render:function(e){var t=e.history;return r.a.createElement(P,{history:t,video:a,setVideo:c})}})),r.a.createElement(u.a,{path:"/video/:query/confirm/:itag",render:function(e){return r.a.createElement(te,Object.assign({},e,{video:a}))}}),r.a.createElement(u.a,{path:"/video/:query/confirm_mp3/:itag",render:function(e){return r.a.createElement(ae,Object.assign({},e,{video:a}))}})),r.a.createElement("footer",{className:"centerText"},r.a.createElement("p",null,"found a bug or have a question?"),r.a.createElement("a",{href:"mailto:kantemir.imam@gmail.com"},"<Contact!>"))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(r.a.createElement(ne,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[36,1,2]]]);
//# sourceMappingURL=main.5ee02211.chunk.js.map
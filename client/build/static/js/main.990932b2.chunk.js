(this["webpackJsonpyt-downloader"]=this["webpackJsonpyt-downloader"]||[]).push([[0],{34:function(e,t,a){e.exports=a.p+"static/media/panda.5b1507d3.jpg"},36:function(e,t,a){e.exports=a(65)},41:function(e,t,a){},42:function(e,t,a){},65:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(30),o=a.n(c),i=(a(41),a(1)),l=(a(42),a(4)),u=a(8),s=function(){return r.a.createElement("nav",{id:"nav"},r.a.createElement("div",{className:"inner"},r.a.createElement(l.b,{to:"/",id:"logo",className:"pointer undecoratedLink"},"YOUTUBE COON"),r.a.createElement("section",null,r.a.createElement(l.b,{to:"/search",className:"pointer undecoratedLink"},"SEARCH"),r.a.createElement("a",{href:"info"},"INFO"),r.a.createElement("a",{href:"contact"},"CONTACT"))))},m=function(e){var t=e.onSubmit,a=e.placeholder,c=void 0===a?"SEARCH FOR YOUTUBE URL":a,o=e.match,l=Object(n.useState)(""),u=Object(i.a)(l,2),s=u[0],m=u[1];return Object(n.useEffect)((function(){o.params.query?m(decodeURIComponent(o.params.query)):m("")}),[o.params.query]),r.a.createElement("form",{onSubmit:function(e){e.preventDefault(),t(s)},id:"searchbar",className:"margin0Auto"},r.a.createElement("input",{value:s,onChange:function(e){return m(e.target.value)},placeholder:c,type:"text",id:"searchText",required:!0}),r.a.createElement("input",{type:"submit",value:"SEARCH",id:"searchSubmit"}))},d=function(e){var t=e.thumbnail,a=e.title,n=e.length;return r.a.createElement("div",{id:"videoCard"},r.a.createElement("img",{src:t,alt:"video thumbnail"}),r.a.createElement("h3",null,a),r.a.createElement("p",null,"duration: ",r.a.createElement("strong",null,n?(n/60).toFixed(2):0," minutes")),r.a.createElement("div",null))},f=a(9),p=a.n(f),v=a(12),E=a(33),h=a.n(E),b=a(18),O=a(14),g=a.n(O),y="/api",j=y+"/ytdl";function w(){return(w=Object(v.a)(p.a.mark((function e(t){var a;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(j,"/simpleinfo?videolink=").concat(t));case 2:if(!((a=e.sent).status>=400)){e.next=5;break}throw new Error(a);case 5:return e.next=7,a.json();case 7:return e.abrupt("return",e.sent);case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function N(e,t,a,n){var r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:function(e){return console.log(e)},c=arguments.length>5&&void 0!==arguments[5]?arguments[5]:function(e){return console.log(e)};g()({url:"".concat(j,"/download?videolink=").concat(e).concat(t?"&format=".concat(t):""),method:"GET",responseType:"arraybuffer",onDownloadProgress:n?function(e){r(e.loaded)}:null}).then((function(e){var t=n?n.format.container:"mp4";Object(b.saveAs)(new Blob([e.data]),a?"".concat(a,".").concat(t):"video".concat(Date.now(),".mp4")),c()})).catch((function(e){return console.log(e)}))}function S(e,t,a,n,r,c){var o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:function(e){return console.log(e)},i=arguments.length>7&&void 0!==arguments[7]?arguments[7]:function(e){return console.log(e)};D(e,t).then((function(c){g()({url:"".concat(j,"/downloadmp3?videolink=").concat(e).concat(t?"&format=".concat(t):""),method:"GET",responseType:"arraybuffer",onDownloadProgress:c?function(e){o(e.loaded)}:null}).then((function(e){var t=new h.a(e.data);r&&t.setFrame("TIT2",r),n&&t.setFrame("TPE1",[n]),t.addTag();var c=t.getBlob();Object(b.saveAs)(c,a?"".concat(a,".mp3"):"music".concat(Date.now(),".mp3")),i()})).catch((function(e){return console.log(e)}))}))}function D(e,t){return g()({url:"".concat(j,"/getsize?videolink=").concat(e).concat(t?"&format=".concat(t):""),method:"GET"})}function T(e,t){return fetch("".concat(y,"/search?q=").concat(e).concat(t?"&page="+t:"")).then((function(e){if(!e.ok)throw Error(e.statusText);return e.json()}))}var x=function(){return r.a.createElement("div",{className:"loading centerText textUpper"},"LOADING...")},k=function(e){var t=e.container,a=e.type,n=e.audioBitrate,c=e.qualityLabel,o=e.url,i=e.itag,l=e.onDownload;return r.a.createElement("tr",{id:"formatItem"},r.a.createElement("td",{id:"format"},a),r.a.createElement("td",{id:"quality"},c||n+" bitrate"),r.a.createElement("td",{className:"centerText"},r.a.createElement("a",{href:o},"SOURCE")),r.a.createElement("td",{className:"pointer"},r.a.createElement("div",{onClick:function(){return l(i,t)},id:"download"},"DOWNLOAD")))},C=function(e){var t=e.formats,a=void 0===t?[]:t,n=e.onDownload,c=e.convertMp3;return r.a.createElement("tbody",null,a.map((function(e,t){return r.a.createElement(k,Object.assign({onDownload:n},e,{type:c?"mp3":e.type,key:"videoFormat_".concat(t)}))})))},q=function(e){var t=e.formatList,a=void 0===t?[]:t,c=e.onDownload,o=e.onDownloadMp3;console.log(Date.now());var l=Object(n.useState)("video"),u=Object(i.a)(l,2),s=u[0],m=u[1],d=a.filter((function(e){return e.type.match(/^audio/)})),f=a.filter((function(e){return e.type.match(/^video/)&&e.audioBitrate})),p=a.filter((function(e){return e.type.match(/^video/)&&!e.audioBitrate}));return r.a.createElement("div",{id:"formatSelect"},r.a.createElement("div",{id:"tabSwitch"},r.a.createElement("div",{onClick:function(){return m("video")},className:"video"===s?"activeTab":"inactiveTab"},"VIDEO"),r.a.createElement("div",{onClick:function(){return m("audio")},className:"audio"===s?"activeTab":"inactiveTab"},"AUDIO"),r.a.createElement("div",{onClick:function(){return m("mp3")},className:"mp3"===s?"activeTab":"inactiveTab"},"MP3"),r.a.createElement("div",{onClick:function(){return m("videoOnly")},className:"videoOnly"===s?"activeTab":"inactiveTab"},"VIDEO ONLY")),r.a.createElement("table",null,r.a.createElement("thead",null,r.a.createElement("tr",{id:"tableHeader"},r.a.createElement("th",null,"FORMAT"),r.a.createElement("th",null,"QUALITY"),r.a.createElement("th",null,"LINK"),r.a.createElement("th",null,"DOWNLOAD"))),"video"===s&&r.a.createElement(C,{onDownload:c,formats:f}),"audio"===s&&r.a.createElement(C,{onDownload:c,formats:d}),"mp3"===s&&r.a.createElement(C,{convertMp3:!0,onDownload:o,formats:d}),"videoOnly"===s&&r.a.createElement(C,{onDownload:c,formats:p})))},I=function(e){var t=e.message,a=e.children;return r.a.createElement("div",{className:"errorMessage centerText textUpper"},r.a.createElement("p",null,t),a)},A=function(e){var t=e.match,a=e.history,c=e.video,o=e.setVideo;console.log(a);var l=Object(n.useState)(null),u=Object(i.a)(l,2),s=u[0],m=u[1],f=t.params.query;Object(n.useEffect)((function(){o(null),m(null),function(e){return w.apply(this,arguments)}(f).then((function(e){return o(e)})).catch((function(e){return m("COULD NOT FIND VIDEO WITH THIS URL")}))}),[f]);return s?r.a.createElement(I,{message:s}):c?r.a.createElement("div",{id:"videoView"},r.a.createElement(d,{thumbnail:c.thumbnail,title:c.title,length:c.length}),r.a.createElement(q,{onDownload:function(e,t){c.title&&e&&t&&a.push("/video/".concat(f,"/confirm/").concat(e,"/").concat(t))},onDownloadMp3:function(e){c.title&&e&&a.push("/video/".concat(f,"/confirm_mp3/").concat(e))},formatList:c.formats})):r.a.createElement(x,null)},L=a(34),R=a.n(L),U=function(){return r.a.createElement("div",{id:"banner",className:"centerText"},r.a.createElement("img",{alt:"panda",src:R.a}),r.a.createElement("h1",null,"YOUTUBE COON"))},F=function(e){var t=e.video,a=e.setVideo,n=e.history;return r.a.createElement("div",{id:"downloader",className:"inner"},r.a.createElement(u.a,{path:["/video/:query?","/"],render:function(e){var t=e.match;return r.a.createElement(m,{match:t,placeholder:"ENTER VIDEO URL",onSubmit:function(e){return n.push("/video/".concat(encodeURIComponent(e)))}})}}),r.a.createElement(u.a,{path:"/video/:query",render:function(e){return r.a.createElement(A,Object.assign({video:t,setVideo:a},e))}}))},M=a(13),B=a(35),P=function(e){var t=e.video;return r.a.createElement(l.b,{to:"/video/".concat(encodeURIComponent("https://youtube.com".concat(t.link)))},r.a.createElement("div",{id:"videoListCard",className:"pointer"},r.a.createElement("img",{alt:"video thumbnail",src:t.thumbnail}),r.a.createElement("h3",null,t.title)))},V=function(e){var t=e.videos,a=void 0===t?[]:t;return r.a.createElement("section",{id:"videoList"},a.map((function(e){return r.a.createElement(P,{key:e.link,video:e})})))},z=function(e){var t=Object(n.useRef)();return Object(n.useEffect)((function(){t.current=e}),[e]),t.current};function H(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function W(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?H(a,!0).forEach((function(t){Object(B.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):H(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var G=function(e,t){for(var a=t.length-1;a>=0;a--)for(var n=0;n<e.length;n++)if(e[n].link===t[a].link){t.splice(a,1);break}return t},Y=new Set,_=function(e){var t=e.page,a=void 0===t?1:t,n=e.query;return r.a.createElement("div",{id:"pageNavContainer"},a>1&&r.a.createElement(l.b,{to:"/search/".concat(n,"/").concat(Number(a)-1),className:"undecoratedLink centerText"},r.a.createElement("h3",{id:"videoSearchNav"},"PREV")),r.a.createElement(l.b,{to:"/search/".concat(n,"/").concat(Number(a)+1),className:"undecoratedLink centerText"},r.a.createElement("h3",{id:"videoSearchNav"},"NEXT")))},J=function(e){var t=e.match,a=(e.history,Object(n.useState)(null)),c=Object(i.a)(a,2),o=c[0],u=c[1],s=Object(n.useState)(null),m=Object(i.a)(s,2),d=m[0],f=m[1],p=z(t.params.page||1),v=z(t.params.query);return Object(n.useEffect)((function(){v!==t.params.query||Y.has(t.params.page)||(f(null),T(t.params.query,t.params.page).catch((function(e){console.log(e),f(!0)})).then((function(e){if(Y.add(t.params.page),p>t.params.page)return u(W({},e,{videos:[].concat(Object(M.a)(G(o.videos,e.videos)),Object(M.a)(o.videos))}));u(W({},e,{videos:[].concat(Object(M.a)(o.videos),Object(M.a)(G(o.videos,e.videos)))}))})))}),[t.params.page]),Object(n.useEffect)((function(){return f(null),T(t.params.query,t.params.page).catch((function(e){console.log(e),f(!0)})).then((function(e){Y.add(t.params.page),u(e)})),function(){Y.clear()}}),[t.params.query]),d?r.a.createElement(l.b,{to:"/search"},r.a.createElement("h1",{className:"centerText errorMessage"},"SEARCH FAILED!")):o&&o.videos.length?r.a.createElement(r.a.Fragment,null,r.a.createElement(V,{videos:o.videos}),r.a.createElement(_,{page:t.params.page,query:t.params.query})):r.a.createElement(x,null)},K=function(e){var t=e.history;e.match;return r.a.createElement("div",{className:"inner"},r.a.createElement(u.a,{path:"/search/:query?",render:function(e){var a=e.match;return r.a.createElement(m,{match:a,placeholder:"SEARCH FOR VIDEO",onSubmit:function(e){return t.push("/search/".concat(encodeURIComponent(e),"/1"))}})}}),r.a.createElement(u.a,{path:"/search/:query/:page?",component:J}))},Q=function(e){var t=e.onClick;e.className;return r.a.createElement("div",{onClick:t,id:"closeIcon",className:"centerAll pointer"},r.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"18",height:"18",viewBox:"0 0 24 24"},r.a.createElement("path",{d:"M24 20.188l-8.315-8.209 8.2-8.282-3.697-3.697-8.212 8.318-8.31-8.203-3.666 3.666 8.321 8.24-8.206 8.313 3.666 3.666 8.237-8.318 8.285 8.203z"})))},X=function(e){var t=e.size,a=e.progress;return r.a.createElement("div",{className:"progressContainer centerText fancyShadow"},r.a.createElement("p",null,"SIZE: ",(t/1e6).toFixed(2)," MB"),r.a.createElement("progress",{value:a,max:t}))},Z=function(e){var t=e.match,a=e.video,c=e.history,o=Object(n.useState)("download"),l=Object(i.a)(o,2),u=l[0],s=l[1],m=Object(n.useState)(""),d=Object(i.a)(m,2),f=d[0],E=d[1],h=Object(n.useState)(0),b=Object(i.a)(h,2),O=b[0],g=b[1],y=Object(n.useState)(""),j=Object(i.a)(y,2),w=(j[0],j[1]),S=Object(n.useState)(0),T=Object(i.a)(S,2),x=T[0],k=T[1],C=function(){var e=Object(v.a)(p.a.mark((function e(a){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a.preventDefault(),"download"!==u){e.next=5;break}return s("loading"),e.next=5,N(t.params.query,t.params.itag,f,O,(function(e){return k(e)}),(function(){return s("finished")}));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(n.useEffect)((function(){g(null),k(0),w(""),s("download"),a&&E(a.title),D(t.params.query,t.params.itag).then((function(e){g(e.data)})).catch((function(e){console.log(e),w("failed to get videoinfo... you can try download anyway")}))}),[a,t.params.query,t.params.itag,t.params.container]),a?r.a.createElement("div",{id:"confirmModal",className:"centerAll"},r.a.createElement("form",{id:"customNameForm",onSubmit:C},r.a.createElement(Q,{onClick:function(){return c.push("/video/".concat(t.params.query))}}),r.a.createElement("h1",{className:"centerText"},"CONFIRM DOWNLOAD"),O&&r.a.createElement(X,{size:O.size,progress:x}),r.a.createElement("input",{value:f,onChange:function(e){return E(e.target.value)},type:"text"}),r.a.createElement("input",{className:"submit hoverShadow",value:u,type:"submit"}))):r.a.createElement("div",{id:"confirmModal",className:"centerAll"},r.a.createElement("h1",null,"LOADING"))},$=function(e){var t=e.match,a=e.video,c=e.history,o=Object(n.useState)(null),l=Object(i.a)(o,2),u=l[0],s=l[1],m=Object(n.useState)(""),d=Object(i.a)(m,2),f=d[0],E=d[1],h=Object(n.useState)(0),b=Object(i.a)(h,2),O=b[0],g=b[1],y=Object(n.useState)(""),j=Object(i.a)(y,2),w=(j[0],j[1]),N=Object(n.useState)(0),T=Object(i.a)(N,2),x=T[0],k=T[1],C=Object(n.useState)(""),q=Object(i.a)(C,2),I=q[0],A=q[1],L=Object(n.useState)(""),R=Object(i.a)(L,2),U=R[0],F=R[1],M=function(){var e=Object(v.a)(p.a.mark((function e(a){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a.preventDefault(),"download"!==u){e.next=6;break}return s("loading"),e.next=5,S(t.params.query,t.params.itag,f,I,U,O,(function(e){return k(e)}),(function(){return s("finished")}));case 5:s("finished");case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(n.useEffect)((function(){g(null),k(0),w(""),s("download"),a&&E(a.title),D(t.params.query,t.params.itag).then((function(e){g(e.data)})).catch((function(e){console.log(e),w("failed to get videoinfo... you can try download anyway")}))}),[a,t.params.query,t.params.itag]),a?r.a.createElement("div",{id:"confirmModal",className:"centerAll"},r.a.createElement("form",{id:"customNameForm",onSubmit:M},r.a.createElement(Q,{onClick:function(){return c.push("/video/".concat(t.params.query))}}),r.a.createElement("h1",{className:"centerText"},"CONFIRM DOWNLOAD"),O&&r.a.createElement(X,{size:O.size,progress:x}),r.a.createElement("input",{value:f,onChange:function(e){return E(e.target.value)},type:"text"}),r.a.createElement("input",{value:I,placeholder:"add an artist if you want",onChange:function(e){return A(e.target.value)},type:"text"}),r.a.createElement("input",{value:U,placeholder:"add song name",onChange:function(e){return F(e.target.value)},type:"text"}),r.a.createElement("input",{className:"submit hoverShadow",value:u,type:"submit"}))):r.a.createElement("div",{id:"confirmModal",className:"centerAll"},r.a.createElement("h1",null,"LOADING"))};var ee=function(){var e=Object(n.useState)(null),t=Object(i.a)(e,2),a=t[0],c=t[1];return r.a.createElement(l.a,null,r.a.createElement("div",{className:"fullSizeContainer borderBox"},r.a.createElement(s,null),r.a.createElement("main",null,r.a.createElement(U,null),r.a.createElement(u.c,null,r.a.createElement(u.a,{path:"/search",component:K}),r.a.createElement(u.a,{path:"/",render:function(e){var t=e.history;return r.a.createElement(F,{history:t,video:a,setVideo:c})}})),r.a.createElement(u.a,{path:"/video/:query/confirm/:itag/:container",render:function(e){return r.a.createElement(Z,Object.assign({},e,{video:a}))}}),r.a.createElement(u.a,{path:"/video/:query/confirm_mp3/:itag",render:function(e){return r.a.createElement($,Object.assign({},e,{video:a}))}}))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(r.a.createElement(ee,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[36,1,2]]]);
//# sourceMappingURL=main.990932b2.chunk.js.map